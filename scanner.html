<!DOCTYPE html>
<html>
<body>
    <div id="reader" style="width: 100%;"></div>
    <div id="status" style="padding: 20px; font-weight: bold;">Ready to Scan</div>

    <script src="https://unpkg.com/html5-qrcode"></script>
    <script>
        async function onScanSuccess(decodedText) {
        const { data, error } = await supabase
          .from('attendance')
          .insert([{ student_id: decodedText }]);
    
            if (!error) {
              // Play success sound
              alert("Checked in!");
            } else {
              console.error("Scan failed:", error);
            }
        }
    </script>
</body>
</html>
